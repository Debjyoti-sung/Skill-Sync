{"ast":null,"code":"import React,{useEffect,useState}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import SplashScreen from'./components/SplashScreen';import Register from'./components/Auth/Register';import Login from'./components/Auth/Login';import ChooseGoal from'./components/ChooseGoal';import GoalSetup from'./components/GoalSetup';import Dashboard from'./components/Dashboard/Dashboard';import TaskManager from'./components/Tasks/TaskManager';import SkillExtractor from'./components/Skills/SkillExtractor';import RetentionTracker from'./components/Retention/RetentionTracker';import CareerNavigator from'./components/Career/CareerNavigator';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[showSplash,setShowSplash]=useState(true);const[user,setUser]=useState({});useEffect(()=>{try{const storedUser=JSON.parse(localStorage.getItem('user')||'{}');setUser(storedUser);}catch(e){setUser({});}},[]);useEffect(()=>{const timer=setTimeout(()=>{setShowSplash(false);},5000);return()=>clearTimeout(timer);},[]);if(showSplash){return/*#__PURE__*/_jsx(SplashScreen,{});}const isAuthenticated=!!localStorage.getItem('token');const hasCompletedOnboarding=localStorage.getItem('hasCompletedOnboarding')==='true';const ProtectedRoute=_ref=>{let{children}=_ref;if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(!hasCompletedOnboarding){return/*#__PURE__*/_jsx(Navigate,{to:\"/choose-goal\",replace:true});}if(!user||!user.id){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}return children;};const AuthRoute=_ref2=>{let{children}=_ref2;if(isAuthenticated&&hasCompletedOnboarding){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}return children;};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(AuthRoute,{children:/*#__PURE__*/_jsx(Login,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(AuthRoute,{children:/*#__PURE__*/_jsx(Login,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(AuthRoute,{children:/*#__PURE__*/_jsx(Register,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/choose-goal\",element:isAuthenticated?/*#__PURE__*/_jsx(ChooseGoal,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/goal-setup\",element:isAuthenticated?/*#__PURE__*/_jsx(GoalSetup,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/tasks\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(TaskManager,{user:user})})}),/*#__PURE__*/_jsx(Route,{path:\"/skills\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(SkillExtractor,{user:user})})}),/*#__PURE__*/_jsx(Route,{path:\"/retention\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(RetentionTracker,{user:user})})}),/*#__PURE__*/_jsx(Route,{path:\"/career\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(CareerNavigator,{user:user})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Routes","Route","Navigate","SplashScreen","Register","Login","ChooseGoal","GoalSetup","Dashboard","TaskManager","SkillExtractor","RetentionTracker","CareerNavigator","jsx","_jsx","jsxs","_jsxs","App","showSplash","setShowSplash","user","setUser","storedUser","JSON","parse","localStorage","getItem","e","timer","setTimeout","clearTimeout","isAuthenticated","hasCompletedOnboarding","ProtectedRoute","_ref","children","to","replace","id","AuthRoute","_ref2","className","path","element"],"sources":["C:/Users/HP/Desktop/SkillSync/frontend/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport SplashScreen from './components/SplashScreen';\nimport Register from './components/Auth/Register';\nimport Login from './components/Auth/Login';\nimport ChooseGoal from './components/ChooseGoal';\nimport GoalSetup from './components/GoalSetup';\nimport Dashboard from './components/Dashboard/Dashboard';\nimport TaskManager from './components/Tasks/TaskManager';\nimport SkillExtractor from './components/Skills/SkillExtractor';\nimport RetentionTracker from './components/Retention/RetentionTracker';\nimport CareerNavigator from './components/Career/CareerNavigator';\nimport './App.css';\n\nfunction App() {\n  const [showSplash, setShowSplash] = useState(true);\n  const [user, setUser] = useState({});\n\n  useEffect(() => {\n    try {\n      const storedUser = JSON.parse(localStorage.getItem('user') || '{}');\n      setUser(storedUser);\n    } catch (e) {\n      setUser({});\n    }\n  }, []);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setShowSplash(false);\n    }, 5000);\n    return () => clearTimeout(timer);\n  }, []);\n\n  if (showSplash) {\n    return <SplashScreen />;\n  }\n\n  const isAuthenticated = !!localStorage.getItem('token');\n  const hasCompletedOnboarding = localStorage.getItem('hasCompletedOnboarding') === 'true';\n\n  const ProtectedRoute = ({ children }) => {\n    if (!isAuthenticated) {\n      return <Navigate to=\"/login\" replace />;\n    }\n    if (!hasCompletedOnboarding) {\n      return <Navigate to=\"/choose-goal\" replace />;\n    }\n    if (!user || !user.id) {\n      return <Navigate to=\"/login\" replace />;\n    }\n    return children;\n  };\n\n  const AuthRoute = ({ children }) => {\n    if (isAuthenticated && hasCompletedOnboarding) {\n      return <Navigate to=\"/dashboard\" replace />;\n    }\n    return children;\n  };\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Routes>\n          <Route \n            path=\"/\" \n            element={\n              <AuthRoute>\n                <Login />\n              </AuthRoute>\n            } \n          />\n          <Route \n            path=\"/login\" \n            element={\n              <AuthRoute>\n                <Login />\n              </AuthRoute>\n            } \n          />\n          <Route \n            path=\"/register\" \n            element={\n              <AuthRoute>\n                <Register />\n              </AuthRoute>\n            } \n          />\n          <Route \n            path=\"/choose-goal\" \n            element={\n              isAuthenticated ? <ChooseGoal /> : <Navigate to=\"/login\" replace />\n            } \n          />\n          <Route \n            path=\"/goal-setup\" \n            element={\n              isAuthenticated ? <GoalSetup /> : <Navigate to=\"/login\" replace />\n            } \n          />\n          <Route \n            path=\"/dashboard\" \n            element={\n              <ProtectedRoute>\n                <Dashboard />\n              </ProtectedRoute>\n            } \n          />\n          <Route \n            path=\"/tasks\" \n            element={\n              <ProtectedRoute>\n                <TaskManager user={user} />\n              </ProtectedRoute>\n            } \n          />\n          <Route \n            path=\"/skills\" \n            element={\n              <ProtectedRoute>\n                <SkillExtractor user={user} />\n              </ProtectedRoute>\n            } \n          />\n          <Route \n            path=\"/retention\" \n            element={\n              <ProtectedRoute>\n                <RetentionTracker user={user} />\n              </ProtectedRoute>\n            } \n          />\n          <Route \n            path=\"/career\" \n            element={\n              <ProtectedRoute>\n                <CareerNavigator user={user} />\n              </ProtectedRoute>\n            } \n          />\n          <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}