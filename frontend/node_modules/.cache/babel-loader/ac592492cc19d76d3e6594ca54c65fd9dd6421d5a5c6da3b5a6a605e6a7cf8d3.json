{"ast":null,"code":"import React,{useEffect,useState}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import SplashScreen from'./components/SplashScreen';import Register from'./components/Auth/Register';import Login from'./components/Auth/Login';import ChooseGoal from'./components/ChooseGoal';import GoalSetup from'./components/GoalSetup';import Dashboard from'./components/Dashboard/Dashboard';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[showSplash,setShowSplash]=useState(true);useEffect(()=>{const timer=setTimeout(()=>{setShowSplash(false);},5000);return()=>clearTimeout(timer);},[]);if(showSplash){return/*#__PURE__*/_jsx(SplashScreen,{});}const isAuthenticated=!!localStorage.getItem('token');const hasCompletedOnboarding=localStorage.getItem('hasCompletedOnboarding')==='true';const ProtectedRoute=_ref=>{let{children}=_ref;if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(!hasCompletedOnboarding){return/*#__PURE__*/_jsx(Navigate,{to:\"/choose-goal\",replace:true});}return children;};const AuthRoute=_ref2=>{let{children}=_ref2;if(isAuthenticated&&hasCompletedOnboarding){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}return children;};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(AuthRoute,{children:/*#__PURE__*/_jsx(Login,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(AuthRoute,{children:/*#__PURE__*/_jsx(Login,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(AuthRoute,{children:/*#__PURE__*/_jsx(Register,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/choose-goal\",element:isAuthenticated?/*#__PURE__*/_jsx(ChooseGoal,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/goal-setup\",element:isAuthenticated?/*#__PURE__*/_jsx(GoalSetup,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Routes","Route","Navigate","SplashScreen","Register","Login","ChooseGoal","GoalSetup","Dashboard","jsx","_jsx","jsxs","_jsxs","App","showSplash","setShowSplash","timer","setTimeout","clearTimeout","isAuthenticated","localStorage","getItem","hasCompletedOnboarding","ProtectedRoute","_ref","children","to","replace","AuthRoute","_ref2","className","path","element"],"sources":["C:/Users/HP/Desktop/SkillSync/frontend/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport SplashScreen from './components/SplashScreen';\nimport Register from './components/Auth/Register';\nimport Login from './components/Auth/Login';\nimport ChooseGoal from './components/ChooseGoal';\nimport GoalSetup from './components/GoalSetup';\nimport Dashboard from './components/Dashboard/Dashboard';\nimport './App.css';\n\nfunction App() {\n  const [showSplash, setShowSplash] = useState(true);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setShowSplash(false);\n    }, 5000);\n    return () => clearTimeout(timer);\n  }, []);\n\n  if (showSplash) {\n    return <SplashScreen />;\n  }\n\n  const isAuthenticated = !!localStorage.getItem('token');\n  const hasCompletedOnboarding = localStorage.getItem('hasCompletedOnboarding') === 'true';\n\n  const ProtectedRoute = ({ children }) => {\n    if (!isAuthenticated) {\n      return <Navigate to=\"/login\" replace />;\n    }\n    if (!hasCompletedOnboarding) {\n      return <Navigate to=\"/choose-goal\" replace />;\n    }\n    return children;\n  };\n\n  const AuthRoute = ({ children }) => {\n    if (isAuthenticated && hasCompletedOnboarding) {\n      return <Navigate to=\"/dashboard\" replace />;\n    }\n    return children;\n  };\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Routes>\n          <Route \n            path=\"/\" \n            element={\n              <AuthRoute>\n                <Login />\n              </AuthRoute>\n            } \n          />\n          <Route \n            path=\"/login\" \n            element={\n              <AuthRoute>\n                <Login />\n              </AuthRoute>\n            } \n          />\n          <Route \n            path=\"/register\" \n            element={\n              <AuthRoute>\n                <Register />\n              </AuthRoute>\n            } \n          />\n          <Route \n            path=\"/choose-goal\" \n            element={\n              isAuthenticated ? <ChooseGoal /> : <Navigate to=\"/login\" replace />\n            } \n          />\n          <Route \n            path=\"/goal-setup\" \n            element={\n              isAuthenticated ? <GoalSetup /> : <Navigate to=\"/login\" replace />\n            } \n          />\n          <Route \n            path=\"/dashboard\" \n            element={\n              <ProtectedRoute>\n                <Dashboard />\n              </ProtectedRoute>\n            } \n          />\n          <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}