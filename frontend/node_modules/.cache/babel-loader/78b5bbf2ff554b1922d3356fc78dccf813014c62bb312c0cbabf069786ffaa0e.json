{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/Desktop/SkillSync/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate,useLocation}from'react-router-dom';import axios from'axios';import'./GoalSetup.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const GoalSetup=()=>{const navigate=useNavigate();const location=useLocation();const{goalType}=location.state||{};// Get tomorrow's date as default start date\nconst getTomorrowDate=()=>{const tomorrow=new Date();tomorrow.setDate(tomorrow.getDate()+1);return tomorrow.toISOString().split('T')[0];};const[formData,setFormData]=useState({goalType:goalType||'',sourceUrl:'',hoursPerDay:1,startDate:getTomorrowDate(),deadline:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{const token=localStorage.getItem('token');await axios.post('https://skill-sync-bl6v.onrender.com/api/goals',formData,{headers:{Authorization:\"Bearer \".concat(token)}});// Show success message\nalert('Goal setup successful! Reloading to your dashboard...');// Mark user as onboarded\nlocalStorage.setItem('hasCompletedOnboarding','true');// Reload and navigate to dashboard\nsetTimeout(()=>{window.location.href='/dashboard';},1000);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Failed to setup goal');setLoading(false);}};const goalTitle=goalType==='competitive-exam'?'Competitive Exam':'Job & Internship';return/*#__PURE__*/_jsx(\"div\",{className:\"goal-setup-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"goal-setup-form\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"setup-title\",children:[\"Setup Your \",goalTitle,\" Goal\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"setup-subtitle\",children:\"Let's plan your learning journey\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"sourceUrl\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-icon\",children:\"\\uD83D\\uDD17\"}),\"Source URL\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",id:\"sourceUrl\",name:\"sourceUrl\",placeholder:\"Paste the web URL (e.g., course link, study material)\",value:formData.sourceUrl,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"small\",{children:\"Add the link to your study resource or course\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"hoursPerDay\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-icon\",children:\"\\u23F0\"}),\"Hours Per Day\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"hoursPerDay\",name:\"hoursPerDay\",min:\"1\",max:\"24\",value:formData.hoursPerDay,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"small\",{children:\"How many hours can you dedicate daily?\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"startDate\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-icon\",children:\"\\uD83D\\uDCC5\"}),\"Start Date\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"startDate\",name:\"startDate\",value:formData.startDate,onChange:handleChange,min:getTomorrowDate(),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"deadline\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-icon\",children:\"\\uD83C\\uDFAF\"}),\"Deadline\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"deadline\",name:\"deadline\",value:formData.deadline,onChange:handleChange,min:formData.startDate,required:true})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",disabled:loading,children:loading?'Setting Up...':'Complete Setup'})]})]})});};export default GoalSetup;","map":{"version":3,"names":["React","useState","useNavigate","useLocation","axios","jsxs","_jsxs","jsx","_jsx","GoalSetup","navigate","location","goalType","state","getTomorrowDate","tomorrow","Date","setDate","getDate","toISOString","split","formData","setFormData","sourceUrl","hoursPerDay","startDate","deadline","loading","setLoading","error","setError","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","token","localStorage","getItem","post","headers","Authorization","concat","alert","setItem","setTimeout","window","href","err","_err$response","_err$response$data","response","data","goalTitle","className","children","onSubmit","htmlFor","type","id","placeholder","onChange","required","min","max","disabled"],"sources":["C:/Users/HP/Desktop/SkillSync/frontend/src/components/GoalSetup.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport axios from 'axios';\nimport './GoalSetup.css';\n\nconst GoalSetup = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { goalType } = location.state || {};\n\n  // Get tomorrow's date as default start date\n  const getTomorrowDate = () => {\n    const tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    return tomorrow.toISOString().split('T')[0];\n  };\n\n  const [formData, setFormData] = useState({\n    goalType: goalType || '',\n    sourceUrl: '',\n    hoursPerDay: 1,\n    startDate: getTomorrowDate(),\n    deadline: ''\n  });\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      const token = localStorage.getItem('token');\n      await axios.post(\n        'https://skill-sync-bl6v.onrender.com/api/goals',\n        formData,\n        {\n          headers: { Authorization: `Bearer ${token}` }\n        }\n      );\n\n      // Show success message\n      alert('Goal setup successful! Reloading to your dashboard...');\n\n      // Mark user as onboarded\n      localStorage.setItem('hasCompletedOnboarding', 'true');\n\n      // Reload and navigate to dashboard\n      setTimeout(() => {\n        window.location.href = '/dashboard';\n      }, 1000);\n\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to setup goal');\n      setLoading(false);\n    }\n  };\n\n  const goalTitle = goalType === 'competitive-exam' \n    ? 'Competitive Exam' \n    : 'Job & Internship';\n\n  return (\n    <div className=\"goal-setup-container\">\n      <div className=\"goal-setup-form\">\n        <h1 className=\"setup-title\">Setup Your {goalTitle} Goal</h1>\n        <p className=\"setup-subtitle\">Let's plan your learning journey</p>\n\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"sourceUrl\">\n              <span className=\"label-icon\">üîó</span>\n              Source URL\n            </label>\n            <input\n              type=\"url\"\n              id=\"sourceUrl\"\n              name=\"sourceUrl\"\n              placeholder=\"Paste the web URL (e.g., course link, study material)\"\n              value={formData.sourceUrl}\n              onChange={handleChange}\n              required\n            />\n            <small>Add the link to your study resource or course</small>\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"hoursPerDay\">\n              <span className=\"label-icon\">‚è∞</span>\n              Hours Per Day\n            </label>\n            <input\n              type=\"number\"\n              id=\"hoursPerDay\"\n              name=\"hoursPerDay\"\n              min=\"1\"\n              max=\"24\"\n              value={formData.hoursPerDay}\n              onChange={handleChange}\n              required\n            />\n            <small>How many hours can you dedicate daily?</small>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label htmlFor=\"startDate\">\n                <span className=\"label-icon\">üìÖ</span>\n                Start Date\n              </label>\n              <input\n                type=\"date\"\n                id=\"startDate\"\n                name=\"startDate\"\n                value={formData.startDate}\n                onChange={handleChange}\n                min={getTomorrowDate()}\n                required\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"deadline\">\n                <span className=\"label-icon\">üéØ</span>\n                Deadline\n              </label>\n              <input\n                type=\"date\"\n                id=\"deadline\"\n                name=\"deadline\"\n                value={formData.deadline}\n                onChange={handleChange}\n                min={formData.startDate}\n                required\n              />\n            </div>\n          </div>\n\n          {error && <div className=\"error-message\">{error}</div>}\n\n          <button type=\"submit\" className=\"submit-button\" disabled={loading}>\n            {loading ? 'Setting Up...' : 'Complete Setup'}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default GoalSetup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}